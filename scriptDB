CREATE DATABASE cursosOnline;
USE cursosOnline;

CREATE TABLE categoria(
id INT AUTO_INCREMENT PRIMARY KEY,
nombre VARCHAR(60) NOT NULL UNIQUE
);

CREATE TABLE curso(
id INT AUTO_INCREMENT PRIMARY KEY,
titulo VARCHAR(80) NOT NULL,
descripcion TEXT NOT NULL,
id_categoria INT NOT NULL,
FOREIGN KEY (id_categoria) REFERENCES categoria(id)
);

CREATE TABLE estudiante(
id INT AUTO_INCREMENT PRIMARY KEY,
nombre VARCHAR(90) NOT NULL,
email VARCHAR(110) NOT NULL UNIQUE
);

CREATE TABLE curso_estudiante(
id_estudiante INT NOT NULL,
id_curso INT NOT NULL,
PRIMARY KEY (id_estudiante , id_curso),
FOREIGN KEY (id_estudiante) REFERENCES estudiante(id) ON DELETE CASCADE,
FOREIGN KEY (id_curso) REFERENCES curso(id) ON DELETE CASCADE
);